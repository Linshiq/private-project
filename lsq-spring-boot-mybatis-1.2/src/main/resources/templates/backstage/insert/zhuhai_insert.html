<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"  
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"> 
<head>
<meta charset="UTF-8" />
<title>LinShiQ</title>
<link rel="stylesheet" type="text/css" th:href="@{/style/css/bootstrap.min.css}" />
<link th:href="@{/style/backstage/css/bootstrap.min.css}" rel="stylesheet"/>
<link th:href="@{/style/backstage/css/datepicker3.css}" rel="stylesheet"/>
<link th:href="@{/style/backstage/css/styles.css}" rel="stylesheet"/>
<link rel="stylesheet" media="screen" th:href="@{/style/plug/bootstrap-datetimepicker-master/css/bootstrap-datetimepicker.min.css}" />
</head>
<body>
		
	<!-- 引入头文件 -->
	<header th:replace="backstage/include/top :: header"></header>
	
	<!-- 引入菜单 -->
	<div th:replace="backstage/include/menu :: menu"></div>
		
	<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">

				<h2 class="sub-header">日消费查询</h2>
				<form class="form-inline" action="/return" th:action="@{/zhuhai}"  method = "post">
				  <div class="form-group">
				    <label for="exampleInputName2">名字</label>
				    <input type="text" class="form-control" id="exampleInputName2" placeholder="Jane Doe"/>
				  </div>
				  <div class="form-group">
				    <label for="exampleInputEmail2">Email</label>
				    <input type="email" class="form-control" id="exampleInputEmail2" placeholder="jane.doe@example.com"/>			    
				  </div>
				  <div class="form-group">
				    <label for="exampleInputEmail2">日期</label>			    
				  </div>
				  <div class="form-group input-group date form_date " data-date="" data-date-format="yyyy-mm-dd" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
					<input name="date" class="form-control" size="16" type="text" readonly="readonly"/>
                   	<span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
					<span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>	
				  </div>	
<!-- 				  <input type="hidden" id="dtp_input2" value="" /><br />	
 -->				  <button type="submit" class="btn btn-primary">搜索</button>
				</form>
				<form  action="/return" th:action="@{/zhuhai/insert_data}"  method = "post">
				<h2 class="sub-header">登记信息</h2>
					<div class="table-responsive">
						<table class="table table-bordered table-hover">
							<thead>
								<tr>		
									<th>日期</th>
									<th>名字</th>
									<th>消费类型</th>
									<th>发生金额</th>
									<th>余额</th>
								</tr>
							</thead>
							<tbody id="td-box">
								<tr class="form-group">
									<td ><input type="text" class="form-control" id="trxnDate" name="trxnDate" /></td >
									<td ><input type="text" class="form-control" id="name" name="name" /></td >
									<td ><input type="text" class="form-control" id="consumerType" name="consumerType" /></td >
									<td ><input type="text" class="form-control" id="changeAmt" name="changeAmt" /></td >
									<td ><input type="text" class="form-control" id="balance" name="balance" /></td >
								</tr>
							</tbody>
						</table>
						<button class="btn btn-primary center-block" type="submit">提交</button>
					</div>
				</form>
			</div>
	<script th:src="@{/style/backstage/js/jquery-1.11.1.min.js}"></script>
	<script th:src="@{/style/backstage/js/bootstrap.min.js}"></script>
	<script th:src="@{/style/backstage/js/chart.min.js}"></script>
	<script th:src="@{/style/backstage/js/chart-data.js}"></script>
	<script th:src="@{/style/backstage/js/easypiechart.js}"></script>
	<script th:src="@{/style/backstage/js/easypiechart-data.js}"></script>
	<script th:src="@{/style/backstage/js/bootstrap-datepicker.js}"></script>
	<!-- 日期插件 -->
	<script type="text/javascript"
		th:src="@{/style/plug/bootstrap-datetimepicker-master/sample in bootstrap v3/jquery/jquery-1.8.3.min.js}"
		charset="UTF-8"></script>
	<script type="text/javascript"
		th:src="@{/style/plug/bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.js}"
		charset="UTF-8"></script>
	<script type="text/javascript"
		th:src="@{/style/plug/bootstrap-datetimepicker-master/js/locales/bootstrap-datetimepicker.fr.js}"
		charset="UTF-8"></script>
	<script type="text/javascript" th:src="@{/style/plug/bootstrap-datetimepicker-master/js/locales/bootstrap-datetimepicker.zh-CN.js}" charset="UTF-8"></script>
	<script type="text/javascript">
	/*<![CDATA[*/
	(function($){ //设置返回格式
		$.fn.datetimepicker.dates['zh-CN'] = {
		days: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日"],
		daysShort: ["周日", "周一", "周二", "周三", "周四", "周五", "周六", "周日"],
		daysMin:  ["日", "一", "二", "三", "四", "五", "六", "日"],
		months: ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"],
		monthsShort: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
		today: "今天",
		suffix: [],
		meridiem: ["上午", "下午"]
		};
		}(jQuery));
	$('.form_date').datetimepicker({
        language:  'zh-CN',
        autoclose: 1,
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 2,
		minView: 2,
		forceParse: 0
    });
	$(document).keydown(function (e) {
        switch (e.keyCode) {
            case 13:
            if(e && e.preventDefault) {  
            　　//阻止默认浏览器动作(W3C)  
            　　e.preventDefault();  
            } else {  
            　　//IE中阻止函数器默认动作的方式   
            　　window.event.returnValue = false;   
            }  
            $('#td-box tr td input').each(function(){
                var isfocus =  $(this).is(":focus");
                if(true==isfocus){
                    var length = $('#td-box tr').length;
                    var num1 = 3*length+1;
                    var num2 = 3*length+2;
                    var num3 = 3*length+3;
                    var str = '<tr>\
                    	<td ><input type="text" class="form-control" id="trxnDate" name="trxnDate" /></td >\
						<td ><input type="text" class="form-control" id="name" name="name" /></td >\
						<td ><input type="text" class="form-control" id="consumerType" name="consumerType" /></td >\
						<td ><input type="text" class="form-control" id="changeAmt" name="changeAmt" /></td >\
						<td ><input type="text" class="form-control" id="balance" name="balance" /></td >\
                        </tr>';  
                    $('#td-box').append(str);  
                }
            })
            return;
            break;
            case 46:
                if(e && e.preventDefault) {  
                　　//阻止默认浏览器动作(W3C)  
                　　e.preventDefault();  
                } else {  
                　　//IE中阻止函数器默认动作的方式   
                　　window.event.returnValue = false;   
                }  
                $('#td-box tr td input').each(function(){
                    var isfocus =  $(this).is(":focus");
                    if(true==isfocus){
                        $(this).parent().parent().remove();  
                    }
                })
                return;
                break;
        };
    });
	/*]]>*/	
	</script>
</body>
	
</html>